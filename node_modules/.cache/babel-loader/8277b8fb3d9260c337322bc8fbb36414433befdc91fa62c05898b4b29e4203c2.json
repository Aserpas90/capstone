{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\capstone\\\\src\\\\components\\\\login.js\",\n  _s = $RefreshSig$();\nimport Card from \"./context\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LoginWithGoogle, LogoutWithGoogle } from \"./auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  //initiating data state React hook   \n  const [show, setShow] = useState(true);\n  const [warning, setWarning] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  //finction to validate email format on front-end\n  const isValidEmail = emailInput => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(emailInput);\n\n  //async function to handle login\n  async function handleLogin() {\n    if (!email || !password) {\n      setWarning(\"Please enter your Email and Password to login\");\n      setTimeout(() => setWarning(''), 3000);\n      return;\n    }\n    if (!isValidEmail(email)) {\n      setWarning(\"Please enter a valid Email address\");\n      setTimeout(() => setWarning(''), 3000);\n      return;\n    }\n    //axios query to get data from mongodb and validate credentials\n    try {\n      await axios.post('http://localhost:80/login', {\n        email,\n        password\n      });\n      console.log(\"User logged in\");\n      setShow(false);\n      localStorage.setItem(\"loggedInUser\", email);\n    } catch (error) {\n      setWarning('Login failed. Please check your credentials.');\n      setTimeout(() => setWarning(''), 3000);\n      console.error(error + \"Login failed\");\n    }\n    ;\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(Card, {\n    header: \"Login\",\n    status: warning,\n    body: show ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter your Email\",\n          value: email,\n          onChange: e => setEmail(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter your Password\",\n          value: password,\n          onChange: e => setPassword(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary mb-3\",\n          onClick: handleLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"google-login-button\",\n          onClick: LoginWithGoogle,\n          children: [\"Login with Google\", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: require('../images/google icon.png'),\n            alt: \"Google Icon\",\n            className: \"google-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Welcome back, \", email, \" ! \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"You're now logged in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-fields\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary mb-3\",\n          onClick: () => window.location.reload(),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/deposit\",\n            style: {\n              color: \"white\"\n            },\n            children: \"Start transacting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"BF90QuRSjV0MTMOFRAyWtWLwOEI=\");\n_c = Login;\n;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Card","axios","useState","Link","LoginWithGoogle","LogoutWithGoogle","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","show","setShow","warning","setWarning","email","setEmail","password","setPassword","isValidEmail","emailInput","test","handleLogin","setTimeout","post","console","log","localStorage","setItem","error","header","status","body","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","currentTarget","onClick","src","require","alt","window","location","reload","to","style","color","_c","$RefreshReg$"],"sources":["C:/Users/andre/capstone/src/components/login.js"],"sourcesContent":["import Card         from \"./context\";\nimport axios        from \"axios\";\nimport { useState } from \"react\";\nimport { Link }     from \"react-router-dom\";\nimport {LoginWithGoogle, LogoutWithGoogle} from \"./auth\";\n\n\nexport default function Login() {\n    //initiating data state React hook   \n    const [show, setShow]         = useState(true);\n    const [warning, setWarning]   = useState(\"\");\n    const [email, setEmail]       = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    \n    //finction to validate email format on front-end\n    const isValidEmail = (emailInput) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(emailInput);\n   \n    //async function to handle login\n    async function handleLogin(){\n        \n        if(!email || !password) {\n            setWarning(\"Please enter your Email and Password to login\");\n            setTimeout(()=> setWarning(''), 3000);\n            return;\n        }\n        if(!isValidEmail(email)) {\n            setWarning(\"Please enter a valid Email address\")\n            setTimeout(()=> setWarning(''), 3000);\n            return;\n        }\n        //axios query to get data from mongodb and validate credentials\n        try{\n           await axios.post('http://localhost:80/login', { email, password } )\n            console.log(\"User logged in\");  \n            setShow(false); \n            localStorage.setItem(\"loggedInUser\", email); \n        } catch (error){\n           setWarning('Login failed. Please check your credentials.');\n           setTimeout(()=> setWarning(''), 3000);\n            console.error(error + \"Login failed\")};        \n      };\n\n    return (\n        <Card\n        header= \"Login\"\n        status= {warning}\n        body= { show ? (\n        <>\n        <div className='form-fields'>\n        <b>Email:</b>\n        <input type=\"text\" \n               className=\"form-control\"\n               placeholder=\"Enter your Email\"\n               value={email}\n               onChange={e => setEmail(e.currentTarget.value)}/>\n       </div>\n\n       <div className='form-fields'>\n       <b>Password:</b>\n        <input type=\"password\" \n               className=\"form-control\"\n               placeholder=\"Enter your Password\"\n               value={password}\n               onChange={e => setPassword(e.currentTarget.value)}/>\n       </div>\n\n       <div className='form-fields'>\n       <button type=\"submit\" \n             className=\"btn btn-primary mb-3\"\n             onClick={handleLogin}\n             >Login</button>\n        </div>\n\n        <div className='form-fields'>\n        <button type=\"submit\" \n             className=\"google-login-button\"\n             onClick={LoginWithGoogle}> \n         Login with Google\n         <img src={require('../images/google icon.png')} alt=\"Google Icon\" className=\"google-icon\"/>\n         </button> \n        </div>\n\n        </> ):( <>\n          \n         <h3>Welcome back, {email} ! </h3>\n         <h5>You're now logged in</h5>\n         <div className='form-fields'>\n         <button type=\"submit\" \n                 className=\"btn btn-primary mb-3\"\n                 onClick={()=> window.location.reload()}\n             ><Link to=\"/deposit\" \n                 style={{ color: \"white\"}}\n             >Start transacting</Link>\n         </button>\n         </div>\n        </>\n        )}\n        ></Card>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}